<!DOCTYPE html>

<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta content="ja">
    <style>
        .subject-table {
            width: 100%;
            text-align: center;
            border: 2px solid black;
            /* border-collapse: collapse; */
        }
    </style>
</head>

<body>
    <div class="top-title">
        <h2>GPA算出アプリ</h2>
    </div>
    <div>
        <div>
            <h3>設定</h3>
        </div>
        <div>
            <p>
                科目数：<input type="text" id="input-total-subjects" value="1"><br>
                <button onclick="updateTable()">UpdateTable</button>
            </p>
        </div>
    </div>
    <div class="contents">
        <table class="table-subject">
            <tr>
                <th>科目</th>
                <th>評語</th>
                <th>単位数</th>
            </tr>
            <tr>
                <td><input type="text" class="subject" value="算数"></td>
                <td><input type="text" class="score" value="S"></td>
                <td><input type="text" class="credit" value="2"></td>
            </tr>
        </table>
        <button onclick="clacGPA()">計算</button>
    </div>
    <div class="output">
        <p>
            GPA: <span id="gpa"></span>
        </p>
    </div>
    <script>
        function updateTable() {
            let totalSubjects = document.getElementById("input-total-subjects").value;
            let tableInstance = document.getElementById("table-subject");


            for (let i = 0; i < totalSubjects; i++) {

                let newRow = tableInstance.insertCell("tr");

                let td_cell_subject = document.createElement("td");
                let td_cell_score = document.createElement("td");
                let td_cell_creadit = document.createElement("td");

                let input_cell_subject = document.createElement("input");
                let input_cell_score = document.createElement("input");
                let input_cell_credit = document.createElement("input");

                input_cell_subject.classList.add("subject");
                input_cell_score.classList.add("score");
                input_cell_credit.classList.add("credit");

                td_cell_subject.appendChild(input_cell_subject);
                td_cell_score.appendChild(input_cell_score);
                td_cell_creadit.appendChild(input_cell_subject);

                newRow.insertCell(td_cell_subject)
                newRow.insertCell(td_cell_score)
                newRow.insertCell(td_cell_creadit)
                // newRow.appendChild(td_cell_subject);
                // newRow.appendChild(td_cell_score);
                // newRow.appendChild(td_cell_creadit);
                tableInstance.appendChild(newRow);
            }
        }

        function clacGPA() {
        }
    </script>
</body>

</html>